(window.webpackJsonp=window.webpackJsonp||[]).push([["route","chunk-1429806a"],{"429c":function(t,e,o){"use strict";var i=o("dd64");o.n(i).a},"9eaf":function(t,e,o){"use strict";o.r(e);var i=o("cebc"),n=o("eedb"),r={name:"RoutePage",components:{editForm:o("effa").default},data:function(){return{formEdit:!1,currentId:0,list:[],defaultProps:{label:"name"},form:{id:"",parentId:0,name:"",title:"",path:"",permission:"",component:"",componentPath:"",sort:0,isLock:!1,cache:!0},editFormDialogVisible:!1}},methods:{getRouteList:function(){var e=this;n.c().then(function(t){e.list=t})},getRouteData:function(t){var e=this,o=t.id;n.b(o).then(function(t){e.form=Object(i.a)({},t),e.currentId=o})},add:function(){this.form={id:0,parentId:this.currentId},this.formEdit=!0},edit:function(){this.formEdit=!0},del:function(){var t=this;this.$confirm("确认删除？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){n.a(t.currentId).then(function(){t.currentId=0,t.getRouteList()})})},cancel:function(){this.formEdit=!1,this.currentId=0,this.form={}},submit:function(){var e=this;n.d(this.form).then(function(){n.c().then(function(t){e.list=t})})},reset:function(){this.form={id:this.currentId,parentId:this.form.parentId,name:"",title:"",path:"",permission:"",component:"",componentPath:"",sort:0,isLock:!1,cache:!0}},batchEdit:function(){this.editFormDialogVisible=!this.editFormDialogVisible}},created:function(){this.getRouteList()}},l=o("2877"),a=function(t){t.options.__source="src/views/sys/route/index.vue"},s=Object(l.a)(r,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("d2-container",[o("el-button-group",[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:e.add}},[e._v("添加")]),o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",disabled:!e.currentId},on:{click:e.edit}},[e._v("编辑")]),o("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"mini",disabled:!e.currentId},on:{click:e.del}},[e._v("删除")]),o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-close-outline",disabled:!e.currentId,size:"mini"},on:{click:e.cancel}},[e._v("取消")]),o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:e.batchEdit}},[e._v("批量编辑")])],1),o("el-popover",{attrs:{placement:"top-start",title:"温馨提示",width:"400",trigger:"hover"}},[o("li",[e._v("要使`keep-alive`生效，`name`必须与前端组件`name`一致")]),o("li",[e._v("`路径`请输入完整路径")]),o("li",[e._v("`组件`为前端`routerMapComponents`中的key")]),o("li",[e._v("`组件路径`为前端组件在项目中的完整路径")]),o("li",[e._v("`组件`与`组件路径`二选一必填，取决于前端采取的方案")]),o("el-button",{staticStyle:{float:"right"},attrs:{slot:"reference",size:"mini",icon:"el-icon-info"},slot:"reference"},[e._v("\n      操作提示\n    ")])],1),o("el-row",[o("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:8}},[o("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{"node-key":"id","highlight-current":"","default-expand-all":"","expand-on-click-node":!1,data:e.list,props:e.defaultProps},on:{"node-click":e.getRouteData}})],1),o("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:16}},[o("el-card",{attrs:{shadow:"always"}},[o("el-form",{ref:"form",attrs:{"label-position":"right","label-width":"80px",model:e.form}},[o("el-form-item",{attrs:{label:"父级节点",prop:"parentId"}},[o("el-input",{attrs:{disabled:!0,placeholder:"父级节点"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),o("el-form-item",{attrs:{label:"name",prop:"name"}},[o("el-input",{attrs:{disabled:!e.formEdit,placeholder:"请输入name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"标题",prop:"title"}},[o("el-input",{attrs:{disabled:!e.formEdit,placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),o("el-form-item",{attrs:{label:"路径",prop:"path"}},[o("el-input",{attrs:{disabled:!e.formEdit,placeholder:"请输入路径"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),o("el-form-item",{attrs:{label:"权限标识",prop:"permission"}},[o("el-input",{attrs:{disabled:!e.formEdit,placeholder:"请输入权限标识"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}})],1),o("el-form-item",{attrs:{label:"组件",prop:"component"}},[o("el-input",{attrs:{disabled:!e.formEdit,placeholder:"请输入组件"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1),o("el-form-item",{attrs:{label:"组件路径",prop:"componentPath"}},[o("el-input",{attrs:{disabled:!e.formEdit,placeholder:"请输入组件路径"},model:{value:e.form.componentPath,callback:function(t){e.$set(e.form,"componentPath",t)},expression:"form.componentPath"}})],1),o("el-form-item",{attrs:{label:"排序",prop:"sort"}},[o("el-input",{attrs:{disabled:!e.formEdit,placeholder:"请输入排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),o("el-form-item",{attrs:{label:"锁定",prop:"isLock"}},[o("el-switch",{attrs:{disabled:!e.formEdit},model:{value:e.form.isLock,callback:function(t){e.$set(e.form,"isLock",t)},expression:"form.isLock"}})],1),o("el-form-item",{attrs:{label:"keep-alive",prop:"cache"}},[o("el-switch",{attrs:{disabled:!e.formEdit},model:{value:e.form.cache,callback:function(t){e.$set(e.form,"cache",t)},expression:"form.cache"}})],1),e.formEdit?o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),o("el-button",{on:{click:e.reset}},[e._v("清空")])],1):e._e()],1)],1)],1)],1),o("edit-form",{on:{submit:e.getRouteList},model:{value:e.editFormDialogVisible,callback:function(t){e.editFormDialogVisible=t},expression:"editFormDialogVisible"}})],1)},[],!1,null,null,null);"function"==typeof a&&a(s);e.default=s.exports},dd64:function(t,e,o){},eedb:function(t,e,o){"use strict";o.d(e,"c",function(){return n}),o.d(e,"b",function(){return r}),o.d(e,"d",function(){return l}),o.d(e,"a",function(){return a});var i=o("9bd2");function n(){return Object(i.a)({url:"/route",method:"get",loading:{type:"nprogress",interval:500}})}function r(t){return Object(i.a)({url:"/route/"+t,method:"get",loading:{type:"nprogress",interval:500}})}function l(t){return Object(i.a)({url:"/route/save",method:"post",data:t,loading:{type:"nprogress",interval:1e3},success:{type:"message",options:{message:"保存成功",type:"success"}}})}function a(t){return Object(i.a)({url:"/route/"+t,method:"delete",success:{type:"message",options:{message:"删除成功",type:"success"}}})}},effa:function(t,e,o){"use strict";o.r(e);o("ac4d"),o("8a81"),o("ac6a");var i=o("eedb"),n=o("56b3"),r=o.n(n);o("0dd0"),o("697e"),o("a7be"),o("cdf4"),o("f9d4"),o("8822"),o("d2de"),o("cbc8"),o("aedd");o("ae67");var l={name:"routeEditForm",props:{value:Boolean},data:function(){return{loading:!1,dialogVisible:!1}},watch:{value:function(t){this.dialogVisible=t},dialogVisible:function(t){this.$emit("input",t)}},methods:{dialogOpen:function(){var e=this;this.jsonEditor||(this.jsonEditor=r.a.fromTextArea(this.$refs.textarea,{lineNumbers:!0,lineWrapping:!0,mode:"application/json",gutters:["CodeMirror-lint-markers","CodeMirror-foldgutter"],theme:"liquibyte",foldGutter:!0,lint:!0,viewportMargin:1/0})),i.c().then(function(t){e.formatRoutes(t),e.jsonEditor.setValue(JSON.stringify(t,null,2))})},formatRoutes:function(t){var e=!0,o=!1,i=void 0;try{for(var n,r=t[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var l=n.value;l.meta={title:l.title,cache:l.cache},delete l.title,delete l.cache,l.children&&0<l.children.length&&this.formatRoutes(l.children)}}catch(t){o=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(o)throw i}}},save:function(){this.dialogVisible=!1,this.$emit("submit")},close:function(){this.dialogClose()},dialogClose:function(){this.dialogVisible=!1}}},a=(o("429c"),o("2877")),s=function(t){t.options.__source="src/views/sys/route/batchEditForm.vue"},c=Object(a.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},opened:e.dialogOpen,closed:e.dialogClose}},[o("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n    路由信息 \n    "),o("el-button",{attrs:{type:"primary",size:"mini",loading:e.loading},on:{click:e.save}},[e._v("保存")])],1),o("textarea",{ref:"textarea"}),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("保存")]),o("el-button",{on:{click:e.close}},[e._v("取消")])],1)])},[],!1,null,null,null);"function"==typeof s&&s(c);e.default=c.exports}}]);